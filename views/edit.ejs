<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Edit Reviewt | Reviewt</title>
    <link rel="stylesheet" href="/css/edit.css">
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Caveat:wght@400;500;600;700&family=Fredoka+One&family=Tajawal:wght@200;300;400;500;700;800;900&family=Yanone+Kaffeesatz:wght@200;300;400;500;600;700&display=swap');
    </style>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">

    <header>

      <div class="nav">
        <div class="title-div">
          <h1 class= 'logo'><a class='logo' href="/main">Reviewt</a></h1>

          <div class="home-div">

          <a class='home' href="/main"> <img class='house' src="https://www.global-student.com/wp-content/uploads/2018/12/house-icon.png" alt=""></a>
          <a class='home-link' href="/main"><h3 class='home-word'>HOME</h3></a>

          </div>

        </div>

        <div class="profile-div">
          <form action="/sessions?_method=DELETE" method="post">
            <button  class='logout' type="submit" name=""><i class="fas fa-sign-out-alt"></i></button>
          </form>
          <h2 class= 'username-nav'><%= currentUser.username %></h2>
          <a href="/main/profile"><img class='profile-img' src="<%= currentUser.img %>" alt="" onerror="this.src='https://unc.nc/wp-content/uploads/2020/07/Portrait_Placeholder.png'"></a>
        </div>
      </div>
    </header>

  </head>
  <body>

    <div class="page">



        <div class="main-container">

            <h1 class='title'>Update <%=item.name%></h1>




      <form class="" action="/main/<%=item._id%>?_method=PUT" method="post">

        <div class="container">

          <div class="img-div">
            <img class='img' src="<%=item.img%>" alt="">
          </div>

        <div class="left-div">

      <input class = 'items' type="text" name='name' value="<%=item.name%>" placeholder='PRODUCT NAME' required oninvalid="this.setCustomValidity('Product name must be 2-30 characters long')"
      oninput="this.setCustomValidity('')" pattern="[A-Za-z0-9\s\W+]{2,30}">

      <input class = 'items' type="text" name="title" value="<%=item.title%>" placeholder='TITLE' required oninvalid="this.setCustomValidity('Title must be 5-35 characters long')"
      oninput="this.setCustomValidity('')" pattern="[A-Za-z0-9\s\W+]{5,35}">

      <textarea class = 'description' type="text" name="description" value="<%=item.description%>" placeholder='DESCRIPTION OF THE PRODUCT' required oninvalid="this.setCustomValidity('Description is required')"
      oninput="this.setCustomValidity('')" pattern="[A-Za-z0-9\s\W+]{8,300}"><%=item.description%></textarea>


      <input class = 'items' type="text" name="boughtAt" value="<%=item.boughtAt%>" placeholder="PLACE OF PURCHASE" required oninvalid="this.setCustomValidity('Place of purchase must be 2-15 characters long')"
      oninput="this.setCustomValidity('')" pattern="[A-Za-z0-9\s\W+]{2,15}">

      <div class="check-div">
        <h3 class='check'>I'D BUY AGAIN </h3><input class = 'checkbox' type="checkbox" name="recommend" <% if (item.recommend === 'âœ“') { %>
        checked
        <% } %>>
      </div>

      <div class="star-container">
        <div class="rating-wrap">
          <div class="center">
            <fieldset class='rating'>
              <input class='rate'  type="radio" id='star5' name="star" value='5' ><label for="star5" class="full" title="AWESOME"></label>

              <input class='rate' type="radio" id='star4' name="star" value='4'><label for="star4" class="full" title="GOOD"></label>

              <input class='rate' type="radio" id='star3' name="star" value='3'><label for="star3" class="full" title="OKAY"></label>

              <input class='rate' type="radio" id='star2' name="star" value='2'><label for="star2" class="full" title="MEH"></label>

              <input class='rate' type="radio" id='star1' name="star" value='1'><label for="star1" class="full" title="SUCKS"></label>

            </fieldset>
          </div>
          <h2 id="rating-value">0</h2>
        </div>



      </div>

      <input class='submit' type="submit" name="" value="EDIT">
      <a href="/main/<%=item._id%>" class="cancel" type="button" name="button">CANCEL</a>

      </div>

      <div class="right-div">

        <h2 class='optional'>Optional</h2>

        <input class = 'items' type="text" name="price" value="<%=item.price%>" placeholder='PRICE'>

        <input class= 'items' type="text" name="img" value="<%=item.img%>" placeholder="IMG URL">


      </div>


      </div>

    </form>

      </div>

    </div>

  </body>

  <hr class='line-break'>

  <footer>

    <div class="foot">

      <div class="social">
        <a class='foot-links' href="https://www.linkedin.com/in/andy-checo-645a77208/">LinkedIn</a>

        <a class='foot-links' href="https://github.com/SavedCity">GitHub</a>
      </div>

      <div class="line">

      </div>

      <div class="tag">
        <a class='bottom-logo-link' href="/main"><h3 class='bottom-logo'>Reviewt</h3></a>
        <h3 class='my-name'><span style="font-weight: 300; color: #fff6">Developed by:</span>Andy Checo</h3>
      </div>

    </div>

  </footer>

  <script type="text/javascript">

    let star = document.querySelectorAll('.rate');

    let showValue = document.querySelector('#rating-value');

    for (let i = 0; i < star.length; i++) {
      star[i].addEventListener('click', function() {
        i = this.value;

        showValue.innerHTML = i + ' out of 5';
      });
    }


  </script>

</html>
